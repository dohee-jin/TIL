## TIL - 2025.08.27

### ğŸ” ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©
- ë™ì  ìŠ¤íƒ€ì¼ë§
- ëª¨ë“ˆ css
- ì—°ìŠµë¬¸ì œ: íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°

---

#### ë™ì  ìŠ¤íƒ€ì¼ë§   
ë™ì , ì¡°ê±´ë¶€ ë Œë”ë§ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìŠ¤íƒ€ì¼ë§ë„ ë™ì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤.  
isValid ê°’ì— ë”°ë¼ invalid í´ë˜ìŠ¤ê°€ ë™ì ìœ¼ë¡œ ì‚½ì…ë˜ê³  ìˆë‹¤. 
```
<div className={`form-control ${isValid === false ? 'invalid' : ''}`}>
```
ì¸ë¼ì¸ìœ¼ë¡œë„ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€ í•  ìˆ˜ ìˆë‹¤. 
```
style={{color: 'red'}}
```

---

#### ëª¨ë“ˆ css 
íŒ€ í”„ë¡œì íŠ¸ ë° í˜‘ì—… ìƒí™©ì—ì„œ í´ë˜ìŠ¤ëª…ì´ ê²¹ì¹˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ë°œìƒí•œë‹¤.   
í´ë˜ìŠ¤ëª…ì´ ê²¹ì¹˜ë©´ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ë‚´ê°€ ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.   
ì´ëŸ° ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ëª¨ë“ˆ cssë¥¼ ì‚¬ìš©í•œë‹¤.   

ëª¨ë“ˆ cssëŠ” .css í™•ì¥ì ì•ì— .moduleë¥¼ ë¶™ì´ê³ 
```
ì‚¬ìš©í• cssíŒŒì¼ëª….module.css
```
í•´ë‹¹ ëª¨ë“ˆ cssë¥¼ ì‚¬ìš©í•  jsx íŒŒì¼ì— ëª¨ë“ˆ cssë¥¼ ì„í¬íŠ¸ í•˜ì—¬ ì‚¬ìš©í•œë‹¤.   
stylesì˜ ê²½ìš° apple, water ë“± ì›í•˜ëŠ” ì´ë¦„ì„ ë¶™ì´ë©´ ëœë‹¤.   
ì„í¬íŠ¸í•œ stylesëŠ” ëª¨ë“ˆ cssì˜ ë‚´ìš©ì„ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ê°€ ëœë‹¤.
```
import styles from './~.module.css';
```
ë¶ˆëŸ¬ì˜¨ ëª¨ë“ˆ cssì—ì„œ ì‚¬ìš©í•  í´ë˜ìŠ¤ëª…ì— '_' ë“± íŠ¹ìˆ˜ê¸°í˜¸ê°€ ë“¤ì–´ê°€ëŠ” ê²½ìš°   ì•„ë˜ì²˜ëŸ¼ ê°ì²´[í‚¤ ê°’] í˜•íƒœë¡œ í´ë˜ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.
```
className={styles['class_list']}
```  
íŠ¹ì • css ì½”ë“œë§Œ ì‚¬ìš©í•  ê²½ìš° ë””ìŠ¤íŠ¸ëŸ­ì³ë§ í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```
const { text, remove, 'todo-list-item': itemStyle, 'check-circle': checkCircle, active, finish } = styles;
```


---

#### ì—°ìŠµë¬¸ì œ: íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
props, ì´ë²¤íŠ¸ ë°”ì¸ë”©, useState, ë™ì , ì¡°ê±´ë¶€ ë Œë”ë§, ë™ì  ìŠ¤íƒ€ì¼ë§ì„ í™œìš©í•˜ì—¬   
todoë¦¬ìŠ¤íŠ¸ì— í•  ì¼ì„ ì¶”ê°€í•˜ê³  ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë©° ì „ì²´ ë³µìŠµì„ ì§„í–‰í–ˆë‹¤.

1. ë²„íŠ¼ í´ë¦­ ì‹œ ì¸í’‹ ì°½ ë…¸ì¶œ í† ê¸€    

![alt text](/img/image-5.png) 
![alt text](/img/image-6.png)   

ë…¼ë¦¬ê°’ì„ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ìƒíƒœ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  ë²„íŠ¼ í´ë¦­ ì‹œ ë…¼ë¦¬ê°’ì„ ë°˜ì „ì‹œì¼°ë‹¤.   
ë…¼ë¦¬ê°’ì˜ ì´ë¦„ì„ isOpenedë¡œ í•˜ì—¬ isOpenedê°€ trueë©´ ë²„íŠ¼ì´ í´ë¦­ë˜ê³  ì¸í’‹ í¼ì´ ë…¸ì¶œëœ   
ìƒíƒœì„ì„ ì•Œê¸° ì‰½ê²Œ ëª…ëª…í–ˆë‹¤.   
```
// =============== ìƒíƒœ ê´€ë¦¬ =============== //
const[isOpened, setIsOpened] = useState(false);

// =============== í•¸ë“¤ëŸ¬ =============== //
const openBtnHandler = e => {
    setIsOpened(prev => !prev);
}
```
ì¸í’‹ í¼ì˜ ê²½ìš° ë”°ë¡œ ë³€ìˆ˜ì— ì €ì¥í•˜ì—¬ isOpenedê°€ true ì¼ë•Œë§Œ ë Œë”ë§ ë  ìˆ˜ ìˆê²Œ ì‘ì„±í–ˆë‹¤.
```
const formContent =
    <div className={wrapper}>
        <form className={insertForm} onSubmit={addTodoHandler}>
            <input
                type='text'
                placeholder='í•  ì¼ì„ ì…ë ¥ í›„, ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”!'
                onInput={todoInputHandler}
                value={todo.todo}
            />
        </form>
    </div>;

return (
    <>
        {isOpened ? formContent: ''}
        <button
            className={`${insertBtn} ${isOpened ? open : ''}`}
            onClick={openBtnHandler}
        >
            <MdAdd />
        </button>
    </>
);
```

2. ì¸í’‹ í¼ì— ì…ë ¥í•œ ê°’ì„ todo ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€   

![alt text](/img/image-7.png)   

ì¸í’‹ í¼ì— ì…ë ¥í•œ ê°’ì„ App.js ì—ì„œ todo ë¦¬ìŠ¤íŠ¸ë¡œ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œ ë¨¼ì € ì»´í¬ë„ŒíŠ¸ë“¤ì˜ êµ¬ì¡°ë¥¼ í™•ì¸í–ˆë‹¤.   
```
App             
â”œâ”€â”€ TodoTemplate
â”‚   â”œâ”€â”€ TodoHeader 
â”‚   â”œâ”€â”€ TodoMain
â”‚   â”‚   â”œâ”€â”€ TodoItem
â”‚   â””â”€â”€ TodoInput
```
App.jsì—ì„œ TodoInputì˜ ê°’ì„ ë°›ì•„ì™€ì•¼ í•˜ëŠ” ìƒí™©ìœ¼ë¡œ App.jsì—ì„œ props í†µí•´    
TodoInputìœ¼ë¡œ ë¶€í„° ê°’ì„ ë°›ì•„ì˜¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê³     
ë”ë¯¸ ë°ì´í„°ì™€, ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•  ìƒíƒœê´€ë¦¬ ë³€ìˆ˜ë„ ì‘ì„±í–ˆë‹¤.
```
// ë”ë¯¸ ë°ì´í„° ë¦¬ìŠ¤íŠ¸
const todoList = [
    {
        id: 't1',
        todo: 'í•  ì¼ ì–´ì©Œêµ¬~~',
        finish: false,
    },
    {
        id: 't2',
        todo: 'í•  ì¼ ì–´ì©Œêµ¬~~',
        finish: false
    }
]

// todo ë¦¬ìŠ¤íŠ¸ ìƒíƒœ ê´€ë¦¬ ë³€ìˆ˜
const [todos, setTodos] = useState(todoList);

// ë°ì´í„°ë¥¼ ëŒì–´ì˜¬ë ¤ì˜¬ í•¨ìˆ˜
const onAddTodo = (item) => {
    // console.log(item)
    setTodos(prev => [...prev, item])
}
```
ëŒì–´ì˜¬ë ¤ì§„ ë°ì´í„°ê°€ ìƒíƒœê´€ë¦¬ setStateë¡œ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ëŠ” ê²ƒì„ í™•ì¸í•œ í›„   
ë¦¬ìŠ¤íŠ¸ì˜ ê°’ì„ ë Œë”ë§í•˜ê¸° ìœ„í•´ ìì‹ë“¤ì—ê²Œ props todosë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ì—ˆë‹¤.
```
return <TodoTemplate onAdd={onAddTodo} todos = {todos} />
```

3. ë°ì´í„° ë Œë”ë§ ë° ì™„ë£Œ ì²˜ë¦¬   

![alt text](/img/image-8.png)  

App.jsë¡œë¶€í„° TodoTemplateì—ê²Œ ì „ë‹¬ëœ todosë¥¼ TodoTemplateì´ ë‹¤ì‹œ TodoTemplateì—ê²Œ ë³´ë‚´ê³  ë Œë”ë§ì„ í•œë‹¤.   
ì…ë ¥ í¼ì—ì„œ App.jsë¡œ ê°’ì„ ëŒì–´ì˜¬ë¦¬ëŠ” í•¨ìˆ˜ë„ onAdd propsë¥¼ í†µí•´ TodoTemplateì„ ê±°ì³ TodoInputê¹Œì§€ ì „ë‹¬ë˜ê³  ìˆë‹¤.
```
const TodoTemplate = ({onAdd, todos}) => {
    return (
        <div className={styles.TodoTemplate}>
            <TodoHeader/>
            <TodoMain todos={todos}/>
            <TodoInput onAdd={onAdd}/>
        </div>
    );
};
```
ì—¬ê¸°ì„œ ë°›ì€ todosëŠ” todoListë¡œ TodoMainì—ì„œ todoListì˜ todoë¥¼ í•˜ë‚˜ì”© êº¼ë‚´ì„œ id, todo ë“±ì„ ë¶„í•´í•˜ì—¬ ë‹¤ì‹œ TodoItemìœ¼ë¡œ ì „ë‹¬í•œë‹¤.   
```
return (
    <ul className={styles['todo-list']}>
        {
            todos.map(todo => <TodoItem
                    key={todo.id}
                    id={todo.id}
                    todo={todo.todo}
                    onCancel={onCancel}
                    onFinish={onFinish}
                />)
        }
    </ul>
);
```
ë Œë”ë§ì´ ì™„ë£Œëœ todoë¥¼ ì™„ë£Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ì‹œ App.jsì—ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.    
todo ì¶”ê°€ í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë°ì´í„°(ì‚­ì œí•  todo id)ë¥¼ ëŒì–´ì™€ì„œ   
ì‚­ì œí•  todo ì œì™¸í•˜ê³  todoListì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ì—¬ ë¦¬ë Œë”ë§ì„ ì§„í–‰í•œë‹¤.  
```
const onCancelTodo = (item) => {
    console.log(`ì‚­ì œí•  todo:`, item);
    setTodos(prev => prev.filter(todo => todo.id !== item));
}

return <TodoTemplate onAdd={onAddTodo} todos = {todos} onCancel={onCancelTodo}/>
```
onCancelTodo í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìì‹ ì»´í¬ë„ŒíŠ¸ TodoItemì—ì„œëŠ” ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´   
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ todo ì˜ idë¥¼ App.jsë¡œ ë³´ë‚´ì£¼ê³  ìˆë‹¤.
```
// todo ì·¨ì†Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const cancelTodoHandler = e => {
    if(e.target.closest('li')) {
        onCancel(id);
    }
}

 return (
    <li className={itemStyle} id={id}>
        .
        .
        <div className={remove} onClick={cancelTodoHandler}>
            <MdDelete />
        </div>
    </li>
);
```
todo ì™„ë£Œ ì²˜ë¦¬ë„ App.jsì—ì„œ todoList > todo ì˜ finish ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—   
App.jsì—ì„œ ì™„ë£Œì²˜ë¦¬ë¥¼ ì§„í–‰í•  í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤. onFinishTodo í•¨ìˆ˜ ì—­ì‹œ propsë¡œ   
ìì‹ì»´í¬ë„ŒíŠ¸ì—ì„œ id ê°’ì„ ë°›ì•„ì˜¤ê³  ìˆë‹¤.   
filterë¡œ todo.idê°€ íŒŒë¼ë¯¸í„°(id)ì™€ ê°™ì„ë•Œ í•´ë‹¹í•˜ëŠ” todoì˜ finishë¥¼ ë°˜ì „ì‹œí‚¨ë‹¤.   
```
const onFinishTodo = (id) => {
    setTodos(prev => prev.map(todo => {
        if (todo.id === id) {
            todo.finish = !todo.finish;
            return todo;
        } else {
            return todo;
        }
    }))

}

return (
    return <TodoTemplate onAdd={onAddTodo} todos = {todos} onCancel={onCancelTodo} onFinish={onFinishTodo}/>
)
```
TodoItemì—ì„œëŠ” checkCircleì„ ëˆ„ë¥´ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶€í„° propsë¡œ ë°›ì€ onFinishì— id ê°’ì„ ë„£ì–´ ë³´ë‚´ì–´ ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€í•  ìˆ˜ ìˆë‹¤.
```
return (
    .
    .
    <div className={`${checkCircle} ${finish ? active : ''}`} onClick={() => onFinish(id)}>
        { finish && <MdDone /> }
    </div>
    .
    .
)
```

4. ë‚¨ì€ todo ê°œìˆ˜ ì„¸ê¸°, í˜„ì¬ ë‚ ì§œë¡œ ë³€ê²½í•˜ê¸°   

![alt text](/img/image-9.png)

ë‚¨ì€ todo ê°œìˆ˜ëŠ” todoListì—ì„œ todoì˜ ìƒíƒœê°€ falseì¸ todoë§Œ í•„í„°ë§í•˜ì—¬ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë°˜í™˜ë°›ì•„ êµ¬í•œë‹¤. êµ¬í•œ ê°’ì€ propsë¡œ ë³´ë‚´ì–´ ë Œë”ë§ì„ ì§„í–‰í•œë‹¤.
```
<TodoHeader length={todos.filter(todo => todo.isFinish !== true).length}/>
```

ë‚ ì§œëŠ” new Dateì™€ toLocaleStringì„ ì´ìš©í•˜ì—¬ ì›í•˜ëŠ” í¬ë§·ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.
```
const TodoHeader = ({length}) => {
    const { 'day': date, 'tasks-left': left } = styles;
    const today = new Date()
    const year = today.getFullYear().toLocaleString().replace(',', '');
    const month = `${today.getMonth() + 1}`;
    const day = today.getDate().toLocaleString();
    console.log()

    return (
        <header>
            <h1>{year}ë…„ {month}ì›” {day}ì¼</h1>
            <div className={date}>{today.toLocaleString('ko-kr', {weekday: 'long'})}</div>
            <div className={left}>í•  ì¼ {length}ê°œ ë‚¨ìŒ</div>
        </header>
    );
};
```

---

### ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
#### ğŸ› ï¸ ë¬¸ì œì™€ ì›ì¸
- ë¬¸ì œ: **í•  ì¼ ì™„ë£Œ í† ê¸€** ì²˜ë¦¬ ì‹œ TodoMainìœ¼ë¡œ todoListê°€ ë„˜ì–´ê°€ì§€ ì•ŠëŠ” ë¬¸ì œ
- ì›ì¸: setTodos ë‚´ë¶€ì˜ map í•¨ìˆ˜ì—ì„œ return ë¬¸ì´ ëˆ„ë½ë˜ì–´ undefinedê°€ ë°˜í™˜ë˜ë©´ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ì‹¤íŒ¨

#### âœ… í•´ê²° ë°©ë²•
mapì—ì„œ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ idì˜ todo ê°ì²´ë¥¼ ì°¾ì•„ finish ê°’ì„ ì§ì ‘ ìˆ˜ì •í•˜ê³    
ìˆ˜ì •ëœ ê°ì²´ë¥¼ í¬í•¨í•œ ìƒˆ ë°°ì—´ì„ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.
```
 const onFinishTodo = (id) => {
    setTodos(prev => prev.map(todo => {
        if (todo.id === id) {
            todo.finish = !todo.finish;
            return todo;
        } else {
            return todo;
        }
    }))

}
```

