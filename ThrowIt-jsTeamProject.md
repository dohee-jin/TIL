# 🎣 Throw it or not
### Javascript team project 개인 회고록 - 진도희

## 🚨 트러블 슈팅
### 1. 물고기 생성 인터벌 제어
#### 🚨 문제
메인 인트로 화면에서부터 물고기 버튼이 생성되고 있음
#### 🫧 원인(문제 발생 코드)
물고기 생성 인터벌이 index.html에 접근하자마자 바로 실행되고 있어서 문제 발생.
#### 🚨 추가 문제 발생
```
  intervalId = setInterval(() => {
      if($sea.style.display === 'block'){
          showFish();
      }
  }, 1000);
```
인터벌 내부에 if 조건을 넣어 바다 스테이지 화면이 block 상태 일때만 인터벌이 동작되게 변경<br>
수정되었다고 생각했지만 낚시 모달 종료 후 게임 재시작이 되지 않는 문제 발생<br>
#### 🫧 원인(문제 발생 코드)
```
  intervalId = setInterval(() => {
      if($sea.style.display === 'block'){
          showFish();
      }
  }, 1000);
```
  1. 게임 모달 종료 후 재시작 시 setInetval 중복 실행 되어 재시작에 문제가 발생
  2. if 문에 있는 조건인 UI 상태 변화에 의존하였을 때 원래 예상하던 동작을 기대하기 어려움
#### 🌟 해결
```
// js/module/fish/index.js
function startFishGame() {
      if (intervalId !== null) return; // 중복 방지
      intervalId = setInterval(() => {
          $seaBg.style.animationPlayState = 'running';
          showFish();
      }, 1000);
  }

// js/module/menu/index.js
$gameLoadBtn.addEventListener('click', () => {
    showSeaStage();
    loadGameFromStorage();
    startFishGame();
  });
```
게임 시작 버튼 이벤트 리스너에 startFishGame()을 추가하여 게임이 실행되지 않으면 interval이 실행되지 않게 만들었고,<br>
메인 화면에서 실행되던 showFish() 함수의 실행을 막았다. 또한, intervalId의 상태를 감지하여 interval 중복 실행을<br> 
방지하면서 재시작 문제를 해결했다. 인터벌 재시작 관련 이슈는 관주님께서 도와주셔서 해결할 수 있었다.

### 2. 고정된 위치에 생성되는 물고기
#### 🚨 문제
바다 스테이지 진입 후 랜덤한 위치에 생성되어야 할 물고기가 고정 위치에 생성
#### 🫧 원인(문제 발생 코드)
```
// js
const maxX = $seaWrap.offsetWidth - $fish.offsetWidth - 100;
const maxY = $seaWrap.offsetHeight - $fish.offsetHeight - 100;
```
메인 화면에서 바다 스테이지로 이동할 때 addEventListner( e => {}) 이벤트 리스터 안에서   
display =’none’ → display = “block” 으로 변경 후 화면이 전환되면서    
DOM에 반영하기 전에 offsetWidth, offsetHeight 값을 읽어와 문제 발생  
#### 🌟 해결
화면 변화가 일어나지 않고 전체 뷰포트를 감싸고 있는
```<div id=”throwit-wrap”></div>```의 DOM을 가져온 후   
offsetWidth, offsetHeight 값을 읽어와서 문제를 해결, 하지만 트러블 슈팅을 작성하면서 리플로우 방식을 알게되었는데    
현재 코드는 UI에 의존하는 코드인 반면 리플로우 방식은 UI에 의존하지 않고 문제를 해결할 수 있다는 것을 알게 되었음.   

------------------------------------

## 📌 배운 점
- 팀장을 하면서 지난번 프로젝트보다 **git을 통한 협업**에 대해 더 알게되었다.
- **UI에 의존하는 코드**는 좋지 않은 코드라는 것을 알게 되었다.
- 과도한 인터벌 사용을 줄이고 인터벌을 사용할 시 명확한 **인터벌 종료, 중복 방지 처리의 중요성**을 알게되었다.
- 트러블슈팅 과정을 통해 다양한 문제들을 해결하며 디버깅 능력 및 문제 해결 능력을 향상했다.
- js 파일 분리를 실제 프로젝트에 적용하면서 수업 시간 중 놓쳤던 부분, 헷갈렸던 부분을 이해했다.

## 😕 아쉬웠던 점
- 기능 구현에 있어 UI에 의존하는 코드 작성이 많았다.
- 게임 기능 구현에 많은 논의가 필요한 줄 몰랐다. 정확히 어떤 흐름으로 진행되는지 명확히 계획을 세우고 작업했으면 더 좋았을 것 같다.
- 테스트 리뷰에 있어서 코드 하나하나 확인하지 않고 동작만 확인했다가 문제 발생 시 팀원 코드를 잘 알지 못해 문제 해결에 시간이 오래걸렸다.
- 브랜치 네이밍, 커밋 메세지 작성 규칙을 정했지만 merge, refector, style, 등 프로젝트 초기 논의 시 논의하지 못했던 부분을 개발 진행하면서 추가했다.
- 단기간 개발로 UX/UI를 많이 신경쓰지 못했다.

## 🔧 개선할 점
- 코드 작성 시 최소 기능 구현 단위로 나누도록 코딩 연습을 해야겠다.
- 프로젝트 초기 논의 시 기본 논의(브랜치-feature/bug/fix) 내용 이외에 필요한 사항들을(이슈 수정 시 새롭게 생성할 가능성 높은 브랜치, 커밋 메세지 작성 통일화 등) 전부 다 논의한 후 개발을 시작해야겠다.
- 팀원 코드 리뷰 시 정확한 리뷰와 모르는 부분은 질문을 통해 이해한 후 전체 코드 흐름을 알고 다음 작업을 시작해야겠다.
- push 하고 pr 작성 시 브랜치를 잘못 올리는 일이 종종 있었는데 한 번더 꼼꼼히 확인한 후 pr을 올려야겠다.
- 팀 프로젝트에 다소 소극적으로 임했는데 배우는 입장이니 실력이 부족해도 적극적으로 프로젝트에 임해야겠다.

## 💭 소감
지난번 프로젝트보다 깃을 통한 협업에 익숙해졌고 프로젝트 초기 회의 시 논의했던 Must Have 기능들을 구현할 수 있어서 뿌듯했다.   
다소 아쉬운 점은 프로젝트를 진행하면서 수업시간에 배웠던 내용들을 조합하면서 문제를 해결하는데에 시간이 오래걸린다는 점과   
기초 기반지식의 부족을 많이 느꼈다. 개선할 점을 잘 보완하여 다음 프로젝트 때는 더 좋은 코드, 더 좋은 협업을 할 수 있도록 노력해야겠다.   
지난 번 프로젝트와 마찬가지로 이번 프로젝트도 좋은 팀원들을 만나 재밌게 작업했다.







