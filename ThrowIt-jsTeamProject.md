# 🎣 Throw it or not
### Javascript team project 개인 회고록 - 진도희

## 🚨 트러블 슈팅
### 1. 물고기 생성 인터벌 제어
#### 🚨 문제
메인 인트로 화면에서부터 물고기 버튼이 생성되고 있음
#### 🫧 원인(문제 발생 코드)
물고기 생성 인터벌이 index.html에 접근하자마자 바로 실행되고 있어서 문제 발생.
#### 🚨 추가 문제 발생
```
  intervalId = setInterval(() => {
      if($sea.style.display === 'block'){
          showFish();
      }
  }, 1000);
```
인터벌 내부에 if 조건을 넣어 바다 스테이지 화면이 block 상태 일때만 인터벌이 동작되게 변경<br>
수정되었다고 생각했지만 낚시 모달 종료 후 게임 재시작이 되지 않는 문제 발생<br>
#### 🫧 원인(문제 발생 코드)
```
  intervalId = setInterval(() => {
      if($sea.style.display === 'block'){
          showFish();
      }
  }, 1000);
```
  1. 게임 모달 종료 후 재시작 시 setInetval 중복 실행 되어 재시작에 문제가 발생
  2. if 문에 있는 조건인 UI 상태 변화에 의존하였을 때 원래 예상하던 동작을 기대하기 어려움
#### 🌟 해결
```
// js/module/fish/index.js
function startFishGame() {
      if (intervalId !== null) return; // 중복 방지
      intervalId = setInterval(() => {
          $seaBg.style.animationPlayState = 'running';
          showFish();
      }, 1000);
  }

// js/module/menu/index.js
$gameLoadBtn.addEventListener('click', () => {
    showSeaStage();
    loadGameFromStorage();
    startFishGame();
  });
```
게임 시작 버튼 이벤트 리스너에 startFishGame()을 추가하여 게임이 실행되지 않으면 interval이 실행되지 않게 만들었고,<br>
메인 화면에서 실행되던 showFish() 함수의 실행을 막았다. 또한, intervalId의 상태를 감지하여 interval 중복 실행을<br> 
방지하면서 재시작 문제를 해결했다. 인터벌 재시작 관련 이슈는 관주님께서 도와주셔서 해결할 수 있었다.

### 2. 고정된 위치에 생성되는 물고기
#### 🚨 문제
바다 스테이지 진입 후 랜덤한 위치에 생성되어야 할 물고기가 고정 위치에 생성
#### 🫧 원인(문제 발생 코드)
```
// js
const maxX = $seaWrap.offsetWidth - $fish.offsetWidth - 100;
const maxY = $seaWrap.offsetHeight - $fish.offsetHeight - 100;
```
메인 화면에서 바다 스테이지로 이동할 때 addEventListner( e => {}) 이벤트 리스터 안에서   
display =’none’ → display = “block” 으로 변경 후 화면이 전환되면서    
DOM에 반영하기 전에 offsetWidth, offsetHeight 값을 읽어와 문제 발생  
#### 🌟 해결
화면 변화가 일어나지 않고 전체 뷰포트를 감싸고 있는
```<div id=”throwit-wrap”></div>```의 DOM을 가져온 후   
offsetWidth, offsetHeight 값을 읽어와서 문제를 해결, 하지만 트러블 슈팅을 작성하면서 리플로우 방식을 알게되었는데    
현재 코드는 UI에 의존하는 코드인 반면 리플로우 방식은 UI에 의존하지 않고 문제를 해결할 수 있다는 것을 알게 되었음.   

------------------------------------

## 📌 배운 점
- 팀장을 하면서 지난번 프로젝트보다 **git을 통한 협업**에 대해 더 알게되었다.
- **UI에 의존하는 코드**는 좋지 않은 코드라는 것을 알게 되었다.
- 과도한 인터벌 사용을 줄이고 인터벌을 사용할 시 명확한 **인터벌 종료, 중복 방지 처리의 중요성**을 알게되었다.

## 😕 아쉬웠던 점
- 기능 구현에 있어 UI에 의존하는 코드 작성이 많았다.
- 최소 기능 단위마다 함수로 나누는 과정에서

## 🔧 개선할 점

## 💭 소감
지난번 프로젝트보다 깃을 통한 협업에 익숙해졌고


## 📌 배운 점
- 협업을 위한 Git 브랜치 전략 및 템플릿 작성: PR 템플릿, 이슈 템플릿, 커밋 메시지 양식 등 실무 스타일의 협업 규칙을 직접 정해봄으로써 Git 협업 감각이 향상되었다.
- 역할 분담을 통한 협업 능력 향상: 각자 맡은 파트를 책임지고 진행하며 팀워크 및 커뮤니케이션 역량 강화되었다.
- 트러블슈팅 경험: 슬라이드 상태 초기화 문제, display 설정 문제 등 다양한 실제 문제를 해결하며 디버깅 능력 및 문제 해결 능력 증진했다.
- 파일 구조 분리: DOM 처리, 이벤트 바인딩, 낚시 로직 등 기능별 파일 분리를 통해 유지보수성과 코드 가독성 향상되었다.
- 게임 UI/UX 개선 경험: 게임 오버 방식, 물고기 모달창 동작, 디자인 개선 등을 통해 사용자 경험 중심 개발의 중요성 체득했다.

## 😕 아쉬운 점
- 슬라이드 상태 초기화 문제 등 일부 UI 오류가 기획 단계에서 완전히 예측되지 않았다.
- PR 머지 기준이 명확하지 않아서 일부 브랜치 머지가 중복되거나 강제 push(--force)로 처리되는 경우 발생했다.

# 🔧 개선할 점
- 초기 기획 단계에서 화면 전환 및 UI 상태 유지 전략을 명확히 설정해 재진입 이슈 방지가 필요한 것 같다.
- PR 리뷰 및 머지 기준을 명문화하여 중복 작업이나 충돌, 강제 push 상황을 줄어야 겠다.
- 역할 분담 외에도 각 파트에 대한 크로스 리뷰 시간 확보로 전체적인 코드 이해도 높어야겠다.
- 점수 시스템, 낚시대 내구도 등 게임 시스템 로직에 좀 더 정교한 설계 반영 필요할 것 같다.


