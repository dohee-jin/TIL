## TIL - 2025.07.17

### π” μ¤λ λ°°μ΄ λ‚΄μ©

#### μ¤ν”„λ§: μμ΅΄μ„± μ£Όμ… λ³µμµ, μμ™Έμ²λ¦¬

**μμ™Έμ²λ¦¬**   
μ»¨νΈλ΅¤λ¬μ—μ„ μ²λ¦¬ν•λ μμ™Έμ²λ¦¬λ„ λ¶„λ¦¬ν•μ—¬ μμ™Έμ²λ¦¬λ§ λ‹΄λ‹Ήν•λ” ν΄λμ¤λ¥Ό μ‘μ„±ν•λ‹¤.   

1. try-catch
```
try {
    // λ¬Έμ κ°€ λ°μƒν•  μ μλ” μ½”λ“ μ‘μ„±

} catch (Exception e) {
    // λ¬Έμ  λ°μƒ μ‹ μ‹¤ν–‰ λ  μ½”λ“ μ‘μ„±
}
```
2. throw λ΅ μμ™Έ λ°μƒ μ‹ν‚¤κΈ° 
```
throw new λ°μƒμ‹ν‚¬μμ™Έ();

// throw λ΅ λ°μƒμ‹ν‚¨ μμ™Έμ²λ¦¬λ§ λ‹΄λ‹Ήν•  ν΄λμ¤

// μ»¨νΈλ΅¤λ¬μ—μ„ λ°μƒν•λ” μμ™Έλ¥Ό ν• κ³³μ—μ„ κ΄€λ¦¬ν•  μ μκ² ν•΄μ£Όλ” μ–΄λ…Έν…μ΄μ…
@ControllerAdvice 
@Slf4j 
public class GlobalExceptionHandler {
    
    // μ¤ν”„λ§μ—μ„ μ κ³µν•λ” μμ™Έ μ²λ¦¬ λ„κµ¬ μ–΄λ…Έν…μ΄μ…
    @ExceptionHandler(λ°μƒν•μμ™Έν΄λμ¤.class) 
    public ResponseEntity<?> handlerClientException(
        λ°μƒν•μμ™Έκ°μ²΄ e,
        HttpServletRequest request 
    ) {
        // λ΅κΉ… μ²λ¦¬
        log.~~("~~~: {}", e.getMessage());

        // κµ¬μ²΄μ μΈ μ—λ¬ μ •λ³΄ κ°μ²΄λ¥Ό μƒμ„±
        ErrorResponse errorResponse = ErrorReponse.builder()
            .status(e.getStatus());
            .error();
    }

}


// μμ™Έμ²λ¦¬ μ‘λ‹µ κ°μ²΄ 
@Getter @Setter @ToString
@EqualsAndHashCode
@NoArgsConstructor
@AllArgsConstructor
@Builder

public class ErrorResponse {
    private LocalDateTime timestamp; // μ—λ¬ λ°μƒ μ‹κ°„
    private int status; // μ—λ¬ μƒνƒ μ½”λ“
    private String error; // μ—λ¬μ μ΄λ¦„
    private String message; // μ—λ¬μ μ›μΈ λ©”μ„Έμ§€
    private String path; // μ—λ¬κ°€ λ°μƒν• κ²½λ΅
}
```

**μ‚¬μ©μ μ •μ μμ™Έ**

#### SQL: SELECT